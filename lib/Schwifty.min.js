!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Schwifty",[],e):"object"==typeof exports?exports.Schwifty=e():t.Schwifty=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(2),a=n(3),u=r(a),l=n(4),c=r(l),f=[],h={},m=["opacity","x","y","scale","skew","rotate","width","height","backgroundColor","color","top","left","bottom","right"],d=["transform","opacity","width","height","backgroundColor","color","top","left","bottom","right"],p=["easeOutElastic","easeOutBounce"],y=null,g=-1,v=document.createElement("style");v.setAttribute("id","schwifty-library"),document.head.appendChild(v);var x="",b=function(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("transform"),r={};n&&"none"!==n&&(r=(0,o.matrixDeconstruct)(n));var i=d.slice(1).reduce(function(t,n){var r=e.getPropertyValue(n);return t[n]=r,t},r);return i},w=function(t){v.innerHTML=t},k=function(t){x=x.split(t.cssText.elementStyles.join("")).join("").split(t.cssText.keyframes.join("")).join(""),t.toVars&&"style"===t.toVars.fix&&!function(){var e=V(t.toVars);t.classNames.map(function(n,r){var i=O("."+n,t.splitValues?H(e,r,0,0):e,null),o=i.fixedValuesToRemove,s=i.fixValues;x=x.split(o).join(""),x+=s})}(),w(x)},S=function(t){var e=t.interrupted&&t.elem&&b(t.elem);x=x.split(t.cssText.elementStyle).join("").split(t.cssText.keyframes).join(""),w(x),t.toVars&&"style"===t.toVars.fix&&C(t.selector?t.selector:"."+t.id,t.toVars,e)},j=function(t,e){return Object.keys(t).reduce(function(n,r){return n[r]="important"===r?t[r]:e[r],n},{})},V=function(t){return m.concat(["important"]).filter(function(e){return it(t[e])}).reduce(function(e,n){return e[n]=t[n],e},{})},C=function(t,e,n){var r=O(t,e,n),i=r.fixedValuesToRemove,o=r.fixValues;x=x.split(i).join(""),x+=o,w(x)},O=function(t,e,n){var r=null,i=V(e);n&&(i=j(i,n)),h[t]?(e=Object.assign({},h[t].vars,i,e.original?{original:V(e.original)}:null),h[t].vars=e,r=h[t].fixValues):(e=Object.assign({},i,e.original?{original:V(e.original)}:null),h[t]={vars:e});var o=t+"{"+st(e,!0)+"}";return h[t].fixValues=o,{fixedValuesToRemove:r,fixValues:o}},T=function(t,e,n){var r=null;if(n&&"string"==typeof n&&"selector"===n&&(r=OptimalSelect.select(t)),!r){var i=t.className.split(" ").find(function(t){return t.indexOf("schwifty-")>=0});r="."+i}var o=r?r:"."+z();C(o,e)},A=function ft(t){for(var e=f.length,n=e;n--;){var r=f[n];r.tick(t),!r.completed&&r.running&&r.onUpdate&&r.onUpdate(r,t-r.counter)}var i=f.length;return e>0&&0===i?($(),void E()):void(g=window.requestAnimationFrame(ft))},E=function(){y&&y.className?(x=x.split(y.className).join(""),w(x)):y&&document.body.classList.remove("getting-schwifty")},M=function(){0===f.length&&y&&(y.className?(x+=y.className,w(x)):document.body.classList.add("getting-schwifty"))},P=function(t,e,n,r,i,o){var s=X(),a=t.className.split(" ").find(function(t){return t.indexOf("schwifty-")>=0}),u=a||(o&&!o.splitValues&&i?o.id:z()),l=function(i,a){F(i,s);var u=a?a:"."+i,l=z()||a;r.immediateRender&&!p.some(function(t){return t===r.ease})&&(r=Object.assign({},r,Z(t,u,r),{original:r})),s.init(t,e,n,r,i,a,o,U),s.storeCSS(rt(t,e,n,r,l,u,o))};if(i&&"function"==typeof i)i(u,l);else if(i&&"string"==typeof i&&"selector"===i){var c=OptimalSelect.select(t);l(u,c)}else l(u);return s},F=function(t,e){M();var n=f.find(function(e){return e.id===t});n&&n.stop(),f.push(e),g===-1&&(g=window.requestAnimationFrame(A))},q=function(t){var e=f.length;f.splice(f.indexOf(t),1);var n=f.length;e>0&&0===n&&($(),E())},N=function(t){q(t),k(t)},U=function(t){q(t),S(t)},_=function(t,e,n,r){return P(t,e,null,n,r)},L=function(t,e,n,r){return P(t,e,n,null,r)},D=function(t,e,n,r,i){return R(t,e,n,null,r,i)},I=function(t,e,n,r,i){return R(t,e,null,n,r,i)},R=function(t,e,n,r,o,s){t=Array.isArray(t)?t:[].concat(i(t));var a=z(),u=r&&m.some(function(t){return Array.isArray(r[t])})||n&&m.some(function(t){return Array.isArray(n[t])}),l=(t.length,Y()),c=t.map(function(t){return t.className.split(" ").find(function(t){return t.indexOf("schwifty-")>=0})}),f=u?[].concat(i(Array(t.length).keys())).map(function(t){return z()}):z();return F(a,l),l.init(t,e,n,r,a,s,u,c,N),l.storeCSS(B(t,e,n,r,f,c,s,u)),l},H=function(t,e,n,r){var i=t&&m.filter(function(e){return Array.isArray(t[e])}),o=null;if(t){var s=i.reduce(function(n,r){return n[r]=t[r][e],n},{});o=Object.assign({},t,{delay:r+e*n},s)}return o},B=function(t,e,n,r,i,o,a,u){var l=(0,s.getPropertyFromTo)("delay",r,n,0),c=p.find(function(t){return t===r.ease}),f={keyframes:[],elementStyles:[]};return t.forEach(function(t,h){u||0!==f.keyframes.length?u&&(f.keyframes[h]=W(t,H(n,h,a,l),H(r,h,a,l),i[h],o[h])):f.keyframes[0]=W(t,n,r,i,o[0]),f.elementStyles[h]="."+o[h]+"{animation: "+(u?i[h]:i)+" "+e+"s both "+("easeOutElastic"===c?"linear":(0,s.getPropertyFromTo)("ease",r,n,"linear"))+" "+((0,s.getPropertyFromTo)("delay",r,n,0)+h*a)+"s;}"}),x=""+f.keyframes.join("")+f.elementStyles.join("")+x,w(x),f},X=function(){return Object.create(c["default"])},Y=function(){return Object.create(u["default"])},$=function(){window.cancelAnimationFrame(g),g=-1},z=function(){return"schwifty-xxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)})},G=function(t,e){e&&document.body.classList.add("getting-schwifty"),y={notify:t,className:e}},J=function(t,e){var n=!0,r=null;if(!t)return{allEqualUnits:!1,res:null,notEqualVars:"both"};var i=Object.keys(t).reduce(function(i,o){if("important"!==o){var s=nt(t[o]),a=nt(e[o]);if(et(s,a))i[o]={unitFrom:s,unitTo:a};else{var u=""!==a[1]&&""!==s[1]?"both":""!==a[1]?"to":"from";r=K(r,u),i[o]={unitFrom:s,unitTo:a,notEqual:u},n=!1}}return i},{});return{allEqualUnits:n,res:i,notEqualVars:r}},K=function(t,e){return t?"both"===t||"both"===e||"from"===t&&"to"===e||"to"===t&&"from"===e?"both":"from"===t&&"from"===e?"from":"to"===t&&"to"===e?"to":void 0:e},Q=function(t,e){var n=20,r=[].concat(i(Array(n).keys())).map(function(){return{}});Object.keys(t).map(function(e){var s=t[e],a=s.unitTo,u=s.unitFrom;[].concat(i(Array(n).keys())).map(function(t){var i=(a[0]-u[0])*tt((t+1)/n);return r[t][e]=(0,o.round)(u[0]+i,3)+(""===a[1]?0:a[1])})});var s=r.reduce(function(t,e,r){return t+" "+(0,o.round)((r+1)/n*100,3)+"%{ "+(e?st(e):"")+" }"},"");return"@keyframes "+e+" { "+s+" }"},W=function(t,e,n,r,i){var o=p.find(function(t){return t===n.ease});if(o){var s=J(e,n),a=s.allEqualUnits,u=s.res,l=s.notEqualVars;if(a)return Q(u,r);"to"===l?n=Z(t,i,n):"from"===l?e=Z(t,i,e):"both"===l&&(n=Z(t,i,n,e),e=Z(t,i,e,n));var c=J(e,n),f=c.allEqualUnits,h=c.res;if(f)return Q(h,r)}return"@keyframes "+r+" {from { "+(e?st(e):"")+" } to{ "+(n?st(n):"")+" }}"},Z=function(t,e,n,r){var i=null;n&&(i=e+"{"+st(n,!0)+"}",x+=i),w(x);var o=j(V(n||r),b(t));return i&&(x=x.split(i).join("")),w(x),o},tt=function(t){return(.04-.04/t)*Math.sin(25*t)+1},et=function(t,e){return t[1]===e[1]},nt=function(t){if(ot(t))return[t,""];var e=t.match(/^(\d+(?:\.\d+)?)(.*)$/).splice(1);return e[0]=parseInt(e[0],10),"px"===e[1]&&(e[1]=""),e},rt=function(t,e,n,r,i,o,s){var a=h[o];a&&(r=Object.assign({},a.vars,r));var u=p.find(function(t){return t===r.ease}),l=n&&n.delay||r&&r.delay||0,c={keyframes:W(t,n,r,i,o),elementStyle:o+"{animation: "+i+" "+e+"s both "+("easeOutElastic"===u?"linear":r.ease||"linear")+" "+l+"s;}"};return x=""+x+c.keyframes+c.elementStyle,w(x),c},it=function(t){return"undefined"!=typeof t&&null!==t&&""!==t},ot=function(t){return"number"==typeof t},st=function(t,e){e&&t.original&&(t=t.original);var n="",r="";return it(t.x)&&(r=r+" translateX("+(ot(t.x)?t.x+"px":t.x)+")"),it(t.y)&&(r=r+" translateY("+(ot(t.y)?t.y+"px":t.y)+")"),it(t.scale)&&(r=r+" scale("+t.scale+")"),it(t.rotate)&&(r=r+" rotate("+t.rotate+"deg)"),it(t.opacity)&&(n=n+" opacity:"+t.opacity+" "+at(t.important,"opacity",e)+";"),it(t.color)&&(n=n+" color:"+t.color+" "+at(t.important,"color",e)+";"),it(t.backgroundColor)&&(n=n+" background-color:"+t.backgroundColor+" "+at(t.important,"backgroundColor",e)+";"),it(t.width)&&(n=n+" width:"+(ot(t.width)?t.width+"px":t.width)+" "+at(t.important,"width",e)+";"),it(t.height)&&(n=n+" height:"+(ot(t.height)?t.height+"px":t.height)+" "+at(t.important,"height",e)+";"),it(t.left)&&(n=n+" left:"+(ot(t.left)?t.left+"px":t.left)+" "+at(t.important,"left",e)+";"),it(t.top)&&(n=n+" top:"+(ot(t.top)?t.top+"px":t.top)+" "+at(t.important,"top",e)+";"),it(t.transformOrigin)&&(n=n+" transform-origin:"+t.transformOrigin+";"),r&&(n=n+" transform:"+r+" "+at(t.important,"transform",e)+";"),n},at=function(t,e,n){return n&&ut(t,e)?"!important":""},ut=function(t,e){return t&&t.some(function(t){return t===e})},lt=function(){return{html:v.innerHTML,local:x}},ct={fromTo:P,from:L,to:_,set:T,staggerFrom:D,staggerTo:I,killAll:$,bodyClassUpdate:G,dump:lt,matrixDeconstruct:o.matrixDeconstruct};e["default"]=ct,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.parse=function(t){var e=t[0],n=t[1],o=t[2],s=t[3];if(e*s===n*o)throw new Error("transform#unmatrix: matrix is singular");var a=Math.sqrt(e*e+n*n);e/=a,n/=a;var u=e*o+n*s;o-=e*u,s-=n*u;var l=Math.sqrt(o*o+s*s);return o/=l,s/=l,u/=l,e*s<n*o&&(e=-e,n=-n,u=-u,a=-a),{x:parseInt(t[4],10),y:parseInt(t[5],10),rotate:r(Math.atan2(n,e)),skew:r(Math.atan(u)),scale:a===l?i(a,2):0}},r=(e.matrixDeconstruct=function(t){return t?n(t.split("(")[1].split(")")[0].split(",")):null},e.rtod=function(t){var e=180*t/Math.PI;return i(e,2)}),i=e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getPropertyFromTo=function(t,e,n,r){return n&&n[t]||e&&e[t]||r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i={init:function(t,e,n,i,o,s,a,u,l){this.elems=t,this.length=t.length,this.duration=e,this.fromVars=n,this.toVars=i,this.stagger=s,this.splitValues=a,this.classNames=u,this.onComplete=(0,r.getPropertyFromTo)("onComplete",i,n,null),this.onUpdate=(0,r.getPropertyFromTo)("onUpdate",i,n,null),this.onStart=(0,r.getPropertyFromTo)("onStart",i,n,null),this.delay=(0,r.getPropertyFromTo)("delay",i,n,0),this.id=o,this.counter=-1,this.completed=!1,this.interrupted=!1,this.running=!1,this.removeCallback=l,this.counter=performance.now()+1e3*this.delay},storeCSS:function(t){this.cssText=t},prepareElement:function(t,e,n){this.selector&&"provide"===this.selector&&!t.classList.contains(e)&&t.classList.add(e)},start:function(){this.running=!0},complete:function(){this.completed||(this.completed=!0,this.running=!1,"function"==typeof this.onComplete&&this.onComplete(this),this.removeCallback(this))},stop:function(t){this.interrupted=!0,this.complete()},tick:function(t){t>=this.counter&&!this.running&&this.start(),this.counter>=0&&1e3*(this.duration+this.length*this.stagger)+this.counter-t<=0&&!this.completed&&this.complete()}};e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t,e,n,r,i,o,s,a){this.elem=t,this.duration=e,this.fromVars=n,this.toVars=r,this.stagger=s,this.onComplete=r?r.onComplete:n.onComplete,this.onUpdate=r?r.onUpdate:n.onUpdate,this.onStart=r?r.onStart:n.onStart,this.delay=r?r.delay:n.delay,this.id=i,this.selector=o,this.counter=-1,this.completed=!1,this.interrupted=!1,this.running=!1,this.animationStart=this.animationStart.bind(this),this.animationEnd=this.animationEnd.bind(this),this.removeCallback=a,this.prepareElement(t,this.id,s),this.counter=performance.now()+1e3*(this.stagger&&this.stagger.delay||this.delay||0)},storeCSS:function(t){this.cssText=t},prepareElement:function(t,e,n){this.selector&&"provide"===this.selector&&!t.classList.contains(e)&&t.classList.add(e)},start:function(){this.running=!0},animationStart:function(t){t.animationName===this.id&&(this.onStart&&this.onStart(),this.running=!0,this.counter=performance.now())},animationEnd:function(t){(t.animationName===(this.stagger&&this.stagger.id)||this.id)&&this.complete()},complete:function(){this.completed||(this.completed=!0,this.running=!1,!this.stagger&&this.onComplete&&this.onComplete(this),this.stagger&&this.stagger.index===this.stagger.total-1&&this.onComplete&&this.onComplete(this),this.fromVars&&"style"!==this.fromVars.fix&&this.toVars&&"style"!==this.toVars.fix&&!this.selector&&this.elem.classList.contains(this.id)&&this.elem.classList.remove(this.id),this.removeCallback(this))},pause:function(){},stop:function(t){this.interrupted=!0,this.complete()},tick:function(t){t>=this.counter&&!this.running&&this.start(),this.counter>=0&&1e3*this.duration+this.counter-t<=0&&!this.completed&&this.complete()}};e["default"]=n,t.exports=e["default"]}])});
//# sourceMappingURL=Schwifty.min.js.map